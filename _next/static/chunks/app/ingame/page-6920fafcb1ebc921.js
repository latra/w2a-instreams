(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[626],{17409:(e,t,a)=>{Promise.resolve().then(a.bind(a,36545))},36545:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>S});var s=a(95155),l=a(12115),r=a(5565),o=a(58981),i=a.n(o);let n=e=>e?"http://localhost:5000/cache/".concat(e):"";function c(e){let{gameState:t}=e,a=e=>{if(e<=0)return"00:00";let t=Math.floor(e/60).toString().padStart(2,"0"),a=Math.floor(e%60).toString().padStart(2,"0");return"".concat(t,":").concat(a)},l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:360;return e<=0?0:(t-e)/t*100},o=(e,t,o,i,c)=>{console.log(e.baronPowerPlay);let d=l(e.baronPowerPlay.timeLeft,e.baronPowerPlay.timeTotal);return(0,s.jsxs)("div",{className:"w-64 h-24 ".concat("blue"===t?"bg-[#0f355d]/40":"bg-[#4c1918]/70"," rounded-lg flex flex-col items-center justify-center relative overflow-hidden animate-fadeIn"),children:[(0,s.jsx)("div",{className:"absolute bottom-0 left-0 h-1 ".concat("blue"===t?"bg-blueTeam/90":"bg-redTeam/90"),style:{width:"".concat(d,"%")}}),(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)(r.default,{src:n(i),alt:c,width:64,height:64,className:"opacity-90 transition-all duration-300 ".concat(o<=0?"scale-110":"")}),(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center h-full",children:[(0,s.jsx)("span",{className:"font-mono text-white/90 font-bold text-lg",children:"POWER PLAY"}),(0,s.jsxs)("span",{className:"font-mono text-white/90 font-bold text-lg",children:[(0,s.jsxs)("div",{className:"flex items-center text-xl",children:[e.baronPowerPlay.gold.toFixed(0),(0,s.jsx)(r.default,{src:"./images/goldcoin.png",alt:"Gold Coin",width:16,height:16,className:"ml-1"})]}),(0,s.jsx)("div",{className:"flex items-center text-xl mt-1",children:a(e.baronPowerPlay.timeLeft)})]})]})]})]})},i=function(e,t,o){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:360,c=l(e,i),d=e<=0;return(0,s.jsxs)("div",{className:"w-24 h-24 bg-gray-900/70 rounded-lg flex flex-col items-center justify-center relative overflow-hidden",children:[(0,s.jsx)("div",{className:"absolute bottom-0 left-0 h-1 bg-avalanche",style:{width:"".concat(c,"%")}}),(0,s.jsxs)("div",{className:"flex flex-col items-center gap-1",children:[(0,s.jsx)(r.default,{src:n(t),alt:o,width:d?48:32,height:d?48:32,className:"opacity-90 transition-all duration-300 ".concat(d?"scale-110":"")}),!d&&(0,s.jsx)("span",{className:"font-mono text-white/90 font-bold text-lg",children:a(e)})]})]})};return console.log(t.scoreboard.teams[0].baronPowerPlay),console.log(t.scoreboard.teams[1].baronPowerPlay),(0,s.jsxs)("div",{className:"fixed top-0 left-0 right-0",children:[(null!=t.scoreboard.teams[0].baronPowerPlay||null!=t.scoreboard.teams[1].baronPowerPlay)&&(0,s.jsxs)("div",{className:"absolute left-0",children:[(null===t.scoreboard.teams[0].baronPowerPlay||t.scoreboard.teams[0].baronPowerPlay.timeLeft<0)&&(null===t.scoreboard.teams[1].baronPowerPlay||t.scoreboard.teams[1].baronPowerPlay.timeLeft<0)&&i(t.baronPitTimer.timeLeft,t.baronPitTimer.subType,"Baron",t.baronPitTimer.timeTotal),null!==t.scoreboard.teams[0].baronPowerPlay&&t.scoreboard.teams[0].baronPowerPlay.timeLeft>0&&o(t.scoreboard.teams[0],"blue",t.baronPitTimer.timeLeft,t.baronPitTimer.subType,"Baron"),null!==t.scoreboard.teams[1].baronPowerPlay&&t.scoreboard.teams[1].baronPowerPlay.timeLeft>0&&o(t.scoreboard.teams[1],"red",t.baronPitTimer.timeLeft,t.baronPitTimer.subType,"Baron")]}),(0,s.jsx)("div",{className:"absolute right-0",children:null!==t.scoreboard.teams[0].dragonPowerPlay&&null!==t.scoreboard.teams[1].dragonPowerPlay&&i(t.dragonPitTimer.timeLeft,t.dragonPitTimer.subType,"Dragon",t.dragonPitTimer.timeTotal)})]})}function d(e){var t;let{gameState:a}=e,l=a.scoreboard.teams[0],o=a.scoreboard.teams[1],n={minutes:Math.floor((t=a.gameTime)/60).toString().padStart(2,"0"),seconds:Math.floor(t%60).toString().padStart(2,"0")},d=[,,,,].fill(null).map((e,t)=>l.dragons[t]||null),m=[,,,,].fill(null).map((e,t)=>o.dragons[t]||null).reverse(),x=(e,t)=>(0,s.jsx)("div",{className:"flex gap-2 mt-1",children:[0,1,2].map(a=>(0,s.jsx)("div",{className:"w-3 h-3 border border-white/30 rotate-45 ".concat(a<e?t?"bg-blueTeam":"bg-redTeam":"bg-transparent")},a))});return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"fixed top-0 left-0 right-0 flex flex-col items-center",children:(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsxs)("div",{className:"absolute -left-32 top-0 w-32 h-20 bg-gray-900/70 border-l-4 border-blueTeam flex flex-col items-center justify-center",children:[(0,s.jsx)("span",{className:"".concat(i().className," text-3xl text-white"),children:l.teamTag}),x(l.seriesScore.wins,!0)]}),(0,s.jsxs)("div",{className:"absolute -right-32 top-0 w-32 h-20 bg-gray-900/70 border-r-4 border-redTeam flex flex-col items-center justify-center",children:[(0,s.jsx)("span",{className:"".concat(i().className," text-3xl text-white"),children:o.teamTag}),x(o.seriesScore.wins,!1)]}),(0,s.jsxs)("div",{className:"w-[800px] h-20 bg-gray-900/85 flex items-center justify-between px-4 relative",children:[(0,s.jsxs)("div",{className:"flex items-center gap-12 text-[#4985c4]",children:[(0,s.jsxs)("span",{className:"font-bold text-3xl flex items-center gap-2",children:[(0,s.jsx)(r.default,{src:"./images/tower.png",alt:"Towers",width:28,height:28}),l.towers]}),(0,s.jsxs)("span",{className:"font-bold text-3xl flex items-center gap-2",children:[(0,s.jsx)(r.default,{src:"./images/goldcoin.png",alt:"Gold",width:28,height:28}),(l.gold/1e3).toFixed(1),"K"]})]}),(0,s.jsxs)("div",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 flex items-center",children:[(0,s.jsx)("span",{className:"font-bold text-3xl text-[#4985c4] mr-2",children:l.kills}),(0,s.jsx)(r.default,{src:"./images/sword.png",alt:"Kills",width:60,height:60}),(0,s.jsx)("span",{className:"font-bold text-3xl text-[#a33835] ml-2",children:o.kills})]}),(0,s.jsxs)("div",{className:"flex items-center gap-12 text-[#a33835]",children:[(0,s.jsxs)("span",{className:"font-bold text-3xl flex items-center gap-2",children:[(0,s.jsx)(r.default,{src:"./images/goldcoin.png",alt:"Gold",width:28,height:28}),(o.gold/1e3).toFixed(1),"K"]}),(0,s.jsxs)("span",{className:"font-bold text-3xl flex items-center gap-2",children:[(0,s.jsx)(r.default,{src:"./images/tower.png",alt:"Towers",width:28,height:28}),o.towers]})]})]}),(0,s.jsxs)("div",{className:"w-[600px] h-10 bg-gray-900/40 -mt-1 mx-auto flex items-center justify-between px-8 rounded-b-lg",children:[(0,s.jsx)("div",{className:"grid grid-cols-4 gap-1 w-[120px] justify-items-center",children:d.map((e,t)=>(0,s.jsx)("div",{className:"w-6 h-6",children:e&&(0,s.jsx)(r.default,{src:"./images/dragons/".concat(e.toLowerCase(),".png"),alt:e,width:24,height:24,className:"opacity-90"})},t))}),(0,s.jsxs)("div",{className:"flex items-center justify-center gap-8",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 text-white/90 font-bold text-xl",children:[l.grubs,(0,s.jsx)(r.default,{src:"./images/voidgr.png",alt:"grubs",width:24,height:24,className:"opacity-90"})]}),(0,s.jsxs)("div",{className:"font-bold text-2xl text-white/90 font-mono relative w-20 text-center",children:[(0,s.jsx)("span",{className:"mr-1",children:n.minutes}),(0,s.jsx)("span",{className:"absolute left-1/2 -translate-x-1/2",children:":"}),(0,s.jsx)("span",{className:"ml-1",children:n.seconds})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 text-white/90 font-bold text-xl",children:[(0,s.jsx)(r.default,{src:"./images/voidgr.png",alt:"grubs",width:24,height:24,className:"opacity-90"}),o.grubs]})]}),(0,s.jsx)("div",{className:"grid grid-cols-4 gap-1 w-[120px] justify-items-center",children:m.map((e,t)=>(0,s.jsx)("div",{className:"w-6 h-6",children:e&&(0,s.jsx)(r.default,{src:"./images/dragons/".concat(e.toLowerCase(),".png"),alt:e,width:24,height:24,className:"opacity-90"})},t))})]})]})}),(0,s.jsx)(c,{gameState:a})]})}let m=e=>e?"http://localhost:5000/".concat(e):"",x=e=>{let{item:t,currentTime:a}=e,l=(null==t?void 0:t.cooldown)>0?((null==t?void 0:t.cooldown)-(a-Math.floor(a))).toFixed(0):0,o=Number(l)>0;return(0,s.jsx)("div",{className:"w-6 h-6 bg-gray-900/50 rounded relative",children:t&&t.asset&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(r.default,{src:m(t.asset),alt:t.displayName,width:24,height:24,className:"rounded ".concat(o?"opacity-30":"opacity-90")}),o&&(0,s.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,s.jsx)("span",{className:"text-[10px] font-mono text-white/90 bg-gray-900/80 px-0.5 rounded",children:l})})]})})},f=e=>{let{player:t,isBlueTeam:a,gameState:l}=e;return(0,s.jsxs)("div",{className:"flex items-center ".concat(a?"flex-row":"flex-row-reverse"," p-1 h-[44px]"),children:[(0,s.jsx)("div",{className:"flex items-center ".concat(a?"mr-4":"ml-4"),children:(0,s.jsxs)("div",{className:"relative w-16 h-[44px] overflow-hidden",children:[(0,s.jsx)(r.default,{src:m(t.champion.splashImg),alt:t.champion.name,width:160,height:90,className:"rounded-md object-cover absolute top-1/2 -translate-y-1/2"}),(0,s.jsx)("div",{className:"absolute top-2 left-1 bg-gray-900/80 px-1 rounded text-[12px] text-white/80",children:t.creepScore})]})}),(0,s.jsx)("div",{className:"flex items-center ".concat(a?"mr-4":"ml-4"," text-coolwhite min-w-[60px] ").concat(a?"justify-start":"justify-end"),children:(0,s.jsxs)("span",{className:"font-mono text-xs",children:[t.kills,"/",t.deaths,"/",t.assists]})}),(0,s.jsx)("div",{className:"flex gap-0.5 ".concat(a?"flex-row":"flex-row-reverse"," ").concat(a?"ml-auto":"mr-auto"),children:t.items.map((e,t)=>(0,s.jsx)(x,{currentTime:l.gameTime,item:e},t))})]})},h=e=>{let{blueGold:t,redGold:a}=e,l=t-a;return(0,s.jsx)("div",{className:"flex items-center justify-center h-[44px]",children:(0,s.jsxs)("span",{className:"text-xs font-mono ".concat(l>0?"text-blueTeam":l<0?"text-redTeam":"text-gray-400"),children:[l>0?"⫷":""," ",Math.abs(l).toFixed(0)," ",l<0?"⫸":""]})})};function g(e){let{gameState:t}=e,a=t.scoreboardBottom.teams[0],l=t.scoreboardBottom.teams[1];return(0,s.jsx)("div",{className:"fixed bottom-0 left-4 right-0 flex justify-center animate-fadeIn",children:(0,s.jsx)("div",{className:"w-[750px] bg-gray-900/80 rounded-t-lg overflow-hidden",children:(0,s.jsxs)("div",{className:"grid grid-cols-[1fr,auto,1fr]",children:[(0,s.jsx)("div",{className:"border-r border-white/10",children:a.players.map((e,a)=>(0,s.jsx)(f,{player:e,isBlueTeam:!0,gameState:t},a))}),(0,s.jsx)("div",{className:"w-12 border-r border-white/10 flex flex-col",children:a.players.map((e,t)=>(0,s.jsx)(h,{blueGold:e.totalGold,redGold:l.players[t].totalGold},t))}),(0,s.jsx)("div",{children:l.players.map((e,a)=>(0,s.jsx)(f,{player:e,isBlueTeam:!1,gameState:t},a))})]})})})}var u=a(58581),b=a(12169),p=a(12800),j=a(66963),v=a(27112),w=a(43322),y=a(90518);function N(e){var t,a;let{gameState:l}=e;if(!(null===(a=l.goldGraph)||void 0===a?void 0:null===(t=a.current)||void 0===t?void 0:t.goldAtTime))return null;let r=Object.entries(l.goldGraph.current.goldAtTime).map(e=>{let[t,a]=e;return{time:Number(t),goldDiff:a["1"]-a["2"]}}),o=Math.max(...r.map(e=>e.goldDiff)),i=Math.min(...r.map(e=>e.goldDiff)),n=Math.max(...r.map(e=>Math.abs(e.goldDiff))),c=(o/(o+Math.abs(i))*100).toFixed(2),d=e=>{let t=Math.floor(e/60);return"".concat(t,":").concat((e%60).toString().padStart(2,"0"))},m=e=>"".concat(e>0?"+":"").concat((e/1e3).toFixed(1),"k");return(0,s.jsx)("div",{className:"fixed bottom-6 left-0 right-0 flex justify-center animate-fadeIn",children:(0,s.jsx)("div",{className:"w-[750px] h-[220px] bg-gray-900/80 rounded-t-lg",children:(0,s.jsx)(u.u,{width:"100%",height:"100%",children:(0,s.jsxs)(b.Q,{data:r,margin:{top:10,right:20,bottom:10,left:20},children:[(0,s.jsx)("defs",{children:(0,s.jsxs)("linearGradient",{id:"splitColor",x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,s.jsx)("stop",{offset:"0%",stopColor:"#4985c4",stopOpacity:.9}),(0,s.jsx)("stop",{offset:"".concat(c,"%"),stopColor:"#4985c4",stopOpacity:1}),(0,s.jsx)("stop",{offset:"".concat(c,"%"),stopColor:"#a33835",stopOpacity:1}),(0,s.jsx)("stop",{offset:"100%",stopColor:"#a33835",stopOpacity:.9})]})}),(0,s.jsx)(p.W,{dataKey:"time",tickFormatter:d,stroke:"#ffffff",tick:{fill:"#ffffffca",fontSize:12}}),(0,s.jsx)(j.h,{tickFormatter:m,stroke:"#ffffff",tick:{fill:"#ffffffca",fontSize:12},domain:[-n,n]}),(0,s.jsx)(v.m,{contentStyle:{backgroundColor:"#00000099",border:"none"},labelFormatter:d,formatter:e=>[m(e),"Diferencia de oro"]}),(0,s.jsx)(w.e,{y:0,stroke:"#ffffff50",strokeDasharray:"3 3"}),(0,s.jsx)(y.G,{type:"monotone",dataKey:"goldDiff",opacity:1,fill:"url(#splitColor)",stroke:"#4985c4",strokeWidth:2,isAnimationActive:!1}),(0,s.jsx)(y.G,{type:"monotone",dataKey:"goldDiff",fill:"url(#splitColor)",stroke:"#1f1f1f",strokeWidth:1,isAnimationActive:!1,baseValue:0})]})})})})}let P=e=>{let{inhib:t,isBlueTeam:a}=e,l=t.timeLeft>0;return(0,s.jsxs)("div",{className:"relative mx-1",children:[(0,s.jsx)(r.default,{src:a?"./images/inhibitor-blue.svg":"./images/inhibitor-red.svg",alt:"Inhibitor",width:32,height:32,className:"".concat(l?"opacity-50":"")}),l&&(0,s.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,s.jsxs)("span",{className:"text-[15px] font-mono text-white/90 px-1 rounded",children:[Math.floor(t.timeLeft/60),":",Math.floor(t.timeLeft%60).toString().padStart(2,"0")]})})]})};function T(e){var t,a;let{gameState:l}=e,r=null===(t=l.inhibitors)||void 0===t?void 0:t.find(e=>1===e.side),o=null===(a=l.inhibitors)||void 0===a?void 0:a.find(e=>2===e.side);return(0,s.jsxs)("div",{className:"fixed top-8 left-1/2 transform -translate-x-1/2 flex justify-between w-full px-8",children:[r&&(0,s.jsx)("div",{className:"flex items-center bg-gray-900/80 rounded p-2 ml-64",children:r.inhibitors.map((e,t)=>(0,s.jsx)(P,{inhib:e,isBlueTeam:!0},t))}),o&&(0,s.jsx)("div",{className:"flex items-center bg-gray-900/80 rounded p-2 mr-64",children:o.inhibitors.map((e,t)=>(0,s.jsx)(P,{inhib:e,isBlueTeam:!1},t))})]})}function S(){var e,t;let[a,r]=(0,l.useState)(null),[o,i]=(0,l.useState)("Connecting...");return((0,l.useEffect)(()=>{let e,t;let a=()=>{(e=new WebSocket("ws://localhost:5000/ws/in")).onopen=()=>{i("Connected")},e.onmessage=e=>{try{if("keepalive"===e.data)return;let t=JSON.parse(e.data);"ingame-state-update"===t.type&&t.state?r(t.state):"gameStatus"===t.type&&t.GameState&&i(t.GameState)}catch(t){console.debug("Received non-JSON message:",e.data)}},e.onerror=t=>{i(null),e.close()},e.onclose=()=>{i(null),t=setTimeout(a,5e3)}};return a(),()=>{e&&e.close(),t&&clearTimeout(t)}},[]),a)?(0,s.jsx)("div",{className:"min-h-screen bg-transparent",children:o&&a&&(0,s.jsxs)(s.Fragment,{children:[a.scoreboard&&(0,s.jsx)(d,{gameState:a}),a.scoreboard&&(0,s.jsx)(c,{gameState:a}),a.scoreboard&&(0,s.jsx)(T,{gameState:a}),(null===(t=a.goldGraph)||void 0===t?void 0:null===(e=t.current)||void 0===e?void 0:e.goldAtTime)?(0,s.jsx)(N,{gameState:a}):a.scoreboard&&null!=a.scoreboardBottom?(0,s.jsx)(g,{gameState:a}):null]})}):(0,s.jsx)("div",{className:"flex items-center justify-center min-h-screen text-black/90",children:(0,s.jsx)("div",{className:"text-xl font-semibold",children:"Status not found... Is blue bottle running?"})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[525,381,441,517,358],()=>t(17409)),_N_E=e.O()}]);